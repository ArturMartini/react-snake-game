(this["webpackJsonpreact-snake"]=this["webpackJsonpreact-snake"]||[]).push([[0],{32:function(e,t,n){e.exports=n(86)},36:function(e,t,n){},37:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var i=n(4),r=n.n(i),a=n(26),o=n.n(a),c=(n(36),function(){return r.a.createElement("header",{className:"main-header"},"React Snake Game")}),l=(n(37),function(){return r.a.createElement("footer",{className:"main-footer"},"Created by Artur Martini - 2020")}),s=n(27),u=n(28),d=n(30),h=n(29),v=n(31),m=n(9),f=(n(84),function(e){function t(){var e,n;Object(s.a)(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).rects=[],n.rect={},n.rectPoint={},n.active=!0,n.interval=-1,n.timeInterval=1e3,n.killPoints=0,n.state={board:{width:500,height:500,style:{border:"10px solid #9f4acf",borderRadius:"1px",borderColor:"aqua",height:"520px"}},snake:{x:0,y:0,size:50,color:"blue",move:0,direction:3,lost:!1},point:{x:400,y:300,size:50,color:"black"},rects:n.initializeRects()},n.walker=function(){var e=n.state.rects,t=0,i=!1,r={x:e[e.length-1].x,y:e[e.length-1].y,direction:e[e.length-1].direction},a=r.direction;3===r.direction&&(t=r.x+50,(n.isLostMovement(t)||n.isInvalidMovement(t,r.y))&&(i=!0)),4===r.direction&&(t=r.x-50,(n.isLostMovement(t)||n.isInvalidMovement(t,r.y))&&(i=!0)),1===r.direction&&(t=r.y-50,(n.isLostMovement(t)||n.isInvalidMovement(r.x,t))&&(i=!0)),2===r.direction&&(t=r.y+50,(n.isLostMovement(t)||n.isInvalidMovement(r.x,t))&&(i=!0)),i&&(n.active=!1),n.move(e,a),n.setState(n.state.rects)},n.move=function(e,t){var i={x:e[e.length-1].x,y:e[e.length-1].y,direction:e[e.length-1].direction,color:"blue"},r=[];if(e.forEach((function(e){r.push({x:e.x,y:e.y})})),1===t&&(i.y-=50),2===t&&(i.y+=50),3===t&&(i.x+=50),4===t&&(i.x-=50),!n.checkKillPoint(e,i)){if(e.length>1)for(var a=e.length-1;a>0;a--)e[a-1].x=r[a].x,e[a-1].y=r[a].y;e[e.length-1]={x:i.x,y:i.y,direction:i.direction,id:e[e.length-1].id,color:"blue"}}},n.checkKillPoint=function(e,t){var i=n.state.point;if(t.x===i.x&&t.y===i.y){n.killPoints+=1,e.push({x:i.x,y:i.y,direction:t.direction,active:!0,color:"blue",size:50,id:"rect:"+e.length});var r=n.getRandomPosition(e,i);return i.x=r.x,i.y=r.y,clearInterval(n.interval),n.timeInterval=.95*n.timeInterval,n.interval=setInterval(n.walker,n.timeInterval),!0}return!1},n.isLostMovement=function(e){var t=n.state.board.width-n.state.snake.size;return!(e>=0&&e<=t)},n.isInvalidMovement=function(e,t){var i=n.state.rects,r=!1;return i.forEach((function(n){e===n.x&&t===n.y&&(r=!0)})),r},n.getMovement=function(e){var t=n.state.rects,i=0;if("ArrowUp"===e.key)i=1;else if("ArrowDown"===e.key)i=2;else if("ArrowLeft"===e.key)i=4;else{if("ArrowRight"!==e.key)return;i=3}return t[t.length-1].direction=i,t},n.getRandomPosition=function(e,t){for(var n=!0,i=0,r=0;n;)i=50*Math.floor(10*Math.random()),r=50*Math.floor(10*Math.random()),e.forEach((function(e){i!==e.x&&r!==e.y&&(n=!1)})),n=i===t.x||r===t.y;return{x:i,y:r}},n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"initializeRects",value:function(){return Array.from({length:1}).map((function(e,t){return{x:0,y:0,active:!0,id:"rect:0",direction:3,size:50,color:"blue",lost:!1}}))}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.getMovement),this.interval=setInterval(this.walker,this.timeInterval)}},{key:"render",value:function(){var e=this,t=this.state,n=t.point,i=t.board,a=t.rects;return!0===this.active?r.a.createElement("div",{className:"board"},r.a.createElement("div",{className:"scoreboard"},this.killPoints),r.a.createElement(m.Stage,{width:i.width,height:i.height,style:i.style},r.a.createElement(m.Layer,null,a.map((function(t){return r.a.createElement(m.Rect,{ref:function(t){return e.rects[a.length-1]=t},key:"".concat(t.id),x:t.x,y:t.y,width:50,height:50,fill:"blue",shadowBlur:5})})),r.a.createElement(m.Rect,{ref:function(t){return e.rectPoint=t},x:n.x,y:n.y,width:n.size,height:n.size,fill:n.color,shadowBlur:5,name:"point"})))):r.a.createElement("div",{className:"board"},r.a.createElement("p",{style:{fontSize:100}},"YOU LOST!"))}}]),t}(i.Component));var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c,null),r.a.createElement(f,null),r.a.createElement(l,null))};n(85);o.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.44426895.chunk.js.map