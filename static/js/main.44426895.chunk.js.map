{"version":3,"sources":["components/Header/index.js","components/Footer/index.js","components/Board/index.js","App.js","index.js"],"names":["Header","className","Footer","Board","rects","rect","rectPoint","active","interval","timeInterval","killPoints","state","board","width","height","style","border","borderRadius","borderColor","snake","x","y","size","color","move","direction","lost","point","initializeRects","walker","isLostMove","leader","length","isLostMovement","isInvalidMovement","setState","ref","stateRects","forEach","r","push","checkKillPoint","idx","id","moveRef","newPoint","getRandomPosition","clearInterval","setInterval","invalid","getMovement","event","dir","key","isInvalid","Math","floor","random","Array","from","map","_","i","window","addEventListener","this","node","fill","shadowBlur","name","fontSize","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.44426895.chunk.js","sourcesContent":["import React from 'react'\nimport \"./styles.css\"\n\nconst Header = () => (\n    <header className=\"main-header\">React Snake Game</header>\n);\n\nexport default Header","import React from 'react'\nimport \"./styles.css\"\n\nconst Footer = () => (\n    <footer className=\"main-footer\">Created by Artur Martini - 2020</footer>\n);\n\nexport default Footer","import React, { Component } from 'react'\nimport { Stage, Layer, Rect } from 'react-konva'\nimport \"./styles.css\"\n\n\nconst DirectionUp = 1\nconst DirectionDown = 2\nconst DirectionRight = 3\nconst DirectionLeft = 4\nconst size = 50\n\nexport default class Board extends Component {\n    rects = []\n    rect = {};\n    rectPoint = {};\n    active = true\n    interval = -1\n    timeInterval = 1000\n    killPoints = 0\n    state = {\n        board: {\n            width: 500,\n            height: 500,\n            style: {\n                border: '10px solid #9f4acf',\n                borderRadius: '1px',\n                borderColor: 'aqua',\n                height: '520px'\n            }\n        },\n        snake: {\n            x: 0,\n            y: 0,\n            size: size,\n            color: 'blue',\n            move: 0,\n            direction: DirectionRight,\n            lost: false,\n        },\n        point: {\n            x: 400,\n            y: 300,\n            size: size,\n            color: 'black',\n        },\n        rects: this.initializeRects()\n    }\n\n    initializeRects() {\n        return Array.from({ length: 1 }).map((_, i) => ({\n            x: 0,\n            y: 0,\n            active: true,\n            id: \"rect:0\",\n            direction: DirectionRight,\n            size: size,\n            color: 'blue',\n            lost: false\n        }))\n    }\n\n    componentDidMount() {\n        window.addEventListener(\"keydown\", this.getMovement)\n        this.interval = setInterval(this.walker, this.timeInterval)\n    }\n\n    walker = () => {\n        const { rects } = this.state\n        var move = 0;\n        var isLostMove = false\n        var leader = {\n            x: rects[rects.length - 1].x,\n            y: rects[rects.length - 1].y,\n            direction: rects[rects.length - 1].direction\n        }\n        var direction = leader.direction\n\n        if (DirectionRight === leader.direction) {\n            move = leader.x + size\n            if (this.isLostMovement(move) || this.isInvalidMovement(move, leader.y)) {\n                isLostMove = true\n            }\n        }\n\n        if (DirectionLeft === leader.direction) {\n            move = leader.x - size\n            if (this.isLostMovement(move) || this.isInvalidMovement(move, leader.y)) {\n                isLostMove = true\n            }\n        }\n\n        if (DirectionUp === leader.direction) {\n            move = leader.y - size\n            if (this.isLostMovement(move) || this.isInvalidMovement(leader.x, move)) {\n                isLostMove = true\n            }\n        }\n\n        if (DirectionDown === leader.direction) {\n            move = leader.y + size\n            if (this.isLostMovement(move) || this.isInvalidMovement(leader.x, move)) {\n                isLostMove = true\n            }\n        }\n\n        if (isLostMove) {\n            this.active = false\n        }\n\n        this.move(rects, direction)\n        this.setState(this.state.rects)\n    }\n\n    move = (rects, direction) => {\n        var ref = {\n            x: rects[rects.length - 1].x,\n            y: rects[rects.length - 1].y,\n            direction: rects[rects.length - 1].direction,\n            color: \"blue\",\n        }\n        var stateRects = []\n\n        rects.forEach((r) => {\n            stateRects.push({\n                x: r.x,\n                y: r.y\n            })\n        })\n\n        if (DirectionUp === direction) {\n            ref.y -= size\n        }\n        if (DirectionDown === direction) {\n            ref.y += size\n        }\n        if (DirectionRight === direction) {\n            ref.x += size\n        }\n        if (DirectionLeft === direction) {\n            ref.x -= size\n        }\n        var hasPoint = this.checkKillPoint(rects, ref)\n        if (!hasPoint) {\n            if (rects.length > 1) {\n                for (let idx = rects.length - 1; idx > 0; idx--) {\n                    rects[idx - 1].x = stateRects[idx].x\n                    rects[idx - 1].y = stateRects[idx].y\n                }\n            }\n            rects[rects.length - 1] = {\n                x: ref.x,\n                y: ref.y,\n                direction: ref.direction,\n                id: rects[rects.length - 1].id,\n                color: \"blue\"\n            }\n        } else {\n            return\n        }\n    }\n\n    checkKillPoint = (rects, moveRef) => {\n        const { point } = this.state\n        if (moveRef.x === point.x && moveRef.y === point.y) {\n            this.killPoints += 1\n            rects.push({\n                x: point.x,\n                y: point.y,\n                direction: moveRef.direction,\n                active: true,\n                color: \"blue\",\n                size: size,\n                id: \"rect:\" + (rects.length)\n            })\n            var newPoint = this.getRandomPosition(rects, point)\n            point.x = newPoint.x\n            point.y = newPoint.y\n            clearInterval(this.interval)\n            this.timeInterval = this.timeInterval * 0.95\n            this.interval = setInterval(this.walker, this.timeInterval)\n            return true\n        }\n        return false\n    }\n\n\n    isLostMovement = (move) => {\n        const size = this.state.board.width - this.state.snake.size\n        if (move >= 0 && move <= size) {\n            return false\n        }\n        return true\n    }\n\n    isInvalidMovement = (x, y) => {\n        const { rects } = this.state\n        var invalid = false\n        rects.forEach((r) => {\n            if (x === r.x && y === r.y) {\n                invalid = true\n            }\n        })\n        return invalid\n    }\n\n\n    getMovement = (event) => {\n        const { rects } = this.state\n        var dir = 0\n        if (event.key === \"ArrowUp\") {\n            dir = DirectionUp\n        } else if (event.key === \"ArrowDown\") {\n            dir = DirectionDown\n        } else if (event.key === \"ArrowLeft\") {\n            dir = DirectionLeft\n        } else if (event.key === \"ArrowRight\") {\n            dir = DirectionRight\n        } else {\n            return\n        }\n        rects[rects.length - 1].direction = dir\n        return rects\n    }\n\n    getRandomPosition = (rects, point) => {\n        var isInvalid = true\n        var x = 0\n        var y = 0\n        while (isInvalid) {\n            x = (Math.floor(Math.random() * 10)) * 50\n            y = (Math.floor(Math.random() * 10)) * 50\n            rects.forEach((r) => {                \n                if (x !== r.x && y !== r.y) {\n                    isInvalid = false\n                }\n            });\n\n            if (x !== point.x && y !== point.y) {\n                isInvalid = false\n            } else {\n                isInvalid = true\n            }\n        }\n        return {\n            x: x,\n            y: y,\n        };\n    }\n\n    render() {\n        const { point, board, rects } = this.state\n        if (this.active === true) {\n            return (\n                <div className=\"board\">\n                    <div className=\"scoreboard\">{this.killPoints}</div>\n                    <Stage width={board.width} height={board.height} style={board.style} >\n                        <Layer>\n                            {rects.map((rect) => {\n                                return (\n                                    <Rect ref={node => (this.rects[rects.length - 1] = node)}\n                                        key={`${rect.id}`}\n                                        x={rect.x}\n                                        y={rect.y}\n                                        width={size}\n                                        height={size}\n                                        fill=\"blue\"\n                                        shadowBlur={5}\n                                    />\n                                )\n                            })}\n                            <Rect ref={node => (this.rectPoint = node)}\n                                x={point.x}\n                                y={point.y}\n                                width={point.size}\n                                height={point.size}\n                                fill={point.color}\n                                shadowBlur={5}\n                                name=\"point\"\n                            />\n                        </Layer>\n                    </Stage>\n                </div>\n            );\n        } else {\n            return (\n                <div className=\"board\">\n                    <p style={{ fontSize: 100 }}>YOU LOST!</p>\n                </div>\n            )\n        }\n    }\n}","import React from 'react';\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport Board from './components/Board'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header/>\n      <Board/>\n      <Footer/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./styles.css\"\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}